(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{561:function(e,a,n){var t=n(562);"string"==typeof t&&(t=[[e.i,t,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(15)(t,r);t.locals&&(e.exports=t.locals)},562:function(e,a,n){a=e.exports=n(14)(!1);var t=n(56),r=t(n(171)),o=t(n(563)),c=t(n(564));a.push([e.i,".pre-call-check-page {\n  min-height: 1px;\n}\n.pre-call-check-page .pre-call-check-header {\n  min-height: 4.9rem;\n  background-color: #FFFFFF;\n  color: #4272C1;\n  padding: 0 0.625rem;\n  width: 100%;\n  user-select: none;\n  z-index: 999;\n  position: relative;\n}\n.pre-call-check-page .pre-call-check-header .banner-content {\n  display: flex;\n}\n.pre-call-check-page .pre-call-check-header .banner-content .title {\n  font-size: 1.5rem;\n  margin: auto 0;\n}\n.pre-call-check-page .pre-call-check-header .banner-content .title .sub-title {\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n.pre-call-check-page .pre-call-check-header .banner-content .logo {\n  background: url("+r+") no-repeat;\n  height: 5.625rem;\n  width: 5.625rem;\n  margin: 1.25rem 0.5rem 1.25rem 0;\n  background-position: center;\n}\n.pre-call-check-page .pre-call-check-header .links {\n  margin-left: -2rem;\n  padding: 2.5rem 0;\n}\n.pre-call-check-page .pre-call-check-header .links ul {\n  list-style: none;\n  padding: 0;\n}\n.pre-call-check-page .pre-call-check-header .links ul li {\n  display: inline-block;\n  padding: 0 0.5rem;\n}\n.pre-call-check-page .pre-call-check-header .links ul li .help-link {\n  color: #006ba6;\n  outline: none;\n}\n.pre-call-check-page .pre-call-check-header .links ul li .sign-off {\n  cursor: pointer;\n}\n.pre-call-check-page .pre-call-check-header .links ul li .lang-change {\n  color: #006ba6;\n  cursor: pointer;\n}\n.pre-call-check-page .pre-call-check-header .links ul li .lang-change .divider {\n  padding-right: 0.5rem;\n}\n.pre-call-check-page .pre-call-check-header .links ul li .lang-change .spanishlabel {\n  padding-left: 0.5rem;\n}\n.pre-call-check-page .mobile-logo-container {\n  display: none;\n}\n.pre-call-check-page .mobile-logo-container .mobile-tpmg-logo {\n  background: url("+r+") no-repeat;\n  height: 5.625rem;\n  width: 5.625rem;\n  margin: 0 auto;\n}\n.pre-call-check-page .mobile-logo-container .header {\n  font-size: 2rem;\n  color: #203864;\n  text-align: center;\n  margin: 0 0 0.5rem;\n}\n.pre-call-check-page .pre-call-check-content {\n  height: calc(100vh - 130px);\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check {\n  margin: 0 auto;\n  min-height: 1rem;\n  width: 75%;\n  padding-top: 3rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container {\n  margin-bottom: 2rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .dropdown {\n  color: #333333;\n  font-size: 0.875rem;\n  border: 1px solid #003B71;\n  background: #FFFFFF;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .dropdown .btn {\n  text-align: left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 1rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .dropdown .disabled {\n  opacity: 0.5;\n  pointer-events: none;\n  min-height: 2.1rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .dropdown .dropdown-menu {\n  min-width: 100%;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .dropdown .dropdown-menu .dropdown-item {\n  cursor: pointer;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .dropdown .dropdown-toggle::after {\n  top: 15px;\n  position: absolute;\n  right: 5px;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .speaker-playback .playback-button {\n  padding: 0.312rem 0.75rem 0.312rem 0.812rem;\n  color: #FFFFFF;\n  background-color: #677083;\n  margin: 0.5rem 0 0 0;\n  display: inline-block;\n  border-radius: 2px;\n  cursor: pointer;\n  font-size: 0.875rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .speaker-playback .play .play-icon {\n  background: url("+o+");\n  display: inline-block;\n  height: 0.812rem;\n  width: 0.687rem;\n  vertical-align: middle;\n  margin-right: 0.437rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .peripheral-options .periheral-container .speaker-playback .pause .pause-icon {\n  background: url("+c+");\n  display: inline-block;\n  height: 0.812rem;\n  width: 0.687rem;\n  vertical-align: middle;\n  margin-right: 0.437rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .video-preview {\n  margin-left: auto;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .video-preview video {\n  width: 100%;\n  transform: scaleX(-1);\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .button-controls {\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n}\n.pre-call-check-page .pre-call-check-content .pre-call-check .button-controls .btn {\n  background: #006ba6;\n  width: 7rem;\n  color: #FFF;\n}\n.pre-call-check-page .form-footer {\n  display: block;\n}\n.pre-call-check-page .form-footer .main-footer {\n  background: #F0F4F7;\n}\n/* Mobile Styles to  Tablet Styles */\n@media only screen and (max-width: 960px) {\n  .pre-call-check-page .pre-call-check-header {\n    display: none;\n  }\n  .pre-call-check-page .mobile-logo-container {\n    display: block;\n    padding-top: 2rem;\n  }\n  .pre-call-check-page .pre-call-check-content {\n    height: 100vh;\n    min-height: 1px;\n  }\n  .pre-call-check-page .pre-call-check-content .button-controls {\n    margin-top: 1rem;\n  }\n  .form-footer {\n    display: block;\n  }\n  .form-footer .main-footer {\n    background: #F0F4F7;\n    padding: 0;\n    display: block;\n  }\n  .form-footer .main-footer .row {\n    margin-left: 0.5rem;\n    margin-right: 0rem;\n  }\n  .form-footer .main-footer .row .col-12 {\n    padding: 0;\n    margin: 0;\n  }\n}\n@media only screen and (max-width: 767px) {\n  .pre-call-check-page .pre-call-check-content {\n    height: calc(100vh - 1%);\n  }\n}\n/* Desktop Styles */\n",""])},563:function(e,a,n){e.exports=n.p+"7ed4200b2df565187b20d8702d6b429f.png"},564:function(e,a,n){e.exports=n.p+"e9481aa114135c9b280889a874e72d1a.png"},608:function(e,a,n){"use strict";n.r(a);var t=n(0),r=n.n(t),o=(n(80),n(124),n(8),n(53),n(52),n(11),n(29)),c=n(1),i=n(77),l=n(4),s=n(2),p=(n(561),n(64)),d=n(173),h=n(30);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,a){return(b=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var f=function(e){function a(e){var n,t,r;!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),t=this,(n=!(r=g(a).call(this,e))||"object"!==m(r)&&"function"!=typeof r?k(t):r).interval="",n.list=[],n.state={userDetails:{},renderView:!1,staticData:{precall:{}},chin:"中文",span:"Español",showPage:!1,showLoader:!0,data:{},media:{},constrains:{},musicOn:!1,mdoHelpUrl:""},n.goBack=n.goBack.bind(k(n)),n.joinVisit=n.joinVisit.bind(k(n));var o=c.a.getLang();return n.permissionRequiredContent={heading:o.errorCodes.CameraAccessPermissionMsg,message:o.errorCodes.VisitStartNotificationMsg,type:"Permission"},n.noDevicesFound={heading:o.errorCodes.NoDeviceFoundHeader,message:o.errorCodes.NoDeviceFoundMsg,type:"Permission"},n.permissionDeniedForSafari={heading:o.errorCodes.CameraAccessBlockHeader,message:o.errorCodes.CameraAccessBlockSafariMsg,type:"Denied"},n.permissionDeniedforFirefox={heading:o.errorCodes.CameraAccessBlockHeader,message:o.errorCodes.CameraAccessBlockDefaultMsg,type:"Denied"},n}var n,t,f;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&b(e,a)}(a,e),n=a,(t=[{key:"componentDidMount",value:function(){var e=this;if(this.subscription=l.a.getMessage().subscribe((function(a,n){switch(a.text){case s.a.MEDIA_DATA_READY:e.list=a.data,e.setState({media:e.list}),e.setState({constrains:{audioSource:e.list.audiooutput?e.list.audiooutput[0]:null,videoSource:e.list.videoinput?e.list.videoinput[0]:null,micSource:e.list.audioinput?e.list.audioinput[0]:null}});var t={audioSource:e.list.audioinput?e.list.audioinput[0]:null,videoSource:e.list.videoinput?e.list.videoinput[0]:null};i.a.start(t);break;case s.a.MEDIA_PERMISSION:var r;if("denied"==a.data){var o=c.a.getBrowserInformation();o.isSafari?r=e.permissionDeniedForSafari:o.isFireFox&&(r=e.permissionDeniedforFirefox)}else r="prompt-no-Devices"===a.data?e.noDevicesFound:e.permissionRequiredContent;l.a.sendMessage(s.a.OPEN_MODAL,r);break;case s.a.RENDER_VIDEO_DOM:"preCallCheck"==a.data&&e.setState({renderView:!0})}})),localStorage.getItem("userDetails")?(this.state.userDetails=JSON.parse(c.a.decrypt(localStorage.getItem("userDetails"))),this.state.userDetails&&(this.setState({showPage:!0}),i.a.loadDeviceMediaData()),sessionStorage.setItem("preCallCheckLoaded",!0)):this.props.history.push(s.a.LOGIN_URL),localStorage.getItem("helpUrl")){var a=localStorage.getItem("helpUrl");this.setState({mdoHelpUrl:a})}this.getLanguage(),this.subscription=l.a.getMessage().subscribe((function(a){a.text==s.a.LANGUAGE_CHANGED&&e.getLanguage()}))}},{key:"toggleOpen",value:function(e){this.setState({data:{isVideo:"video"==e,isAudio:"audio"==e,isSpeaker:"speaker"==e}})}},{key:"componentWillUnmount",value:function(){window.location.reload(!1),this.subscription.unsubscribe()}},{key:"selectPeripheral",value:function(e,a){if("camera"==a){this.state.constrains.videoSource=e;var n={videoSource:this.state.constrains.videoSource,audioSource:this.state.constrains.micSource};i.a.start(n),o.l("camera",e,"pct")}else if("speaker"==a)this.state.constrains.audioSource=e,i.a.changeAudioDestination(e),this.setState({musicOn:!1}),o.l("speaker",e,"pct");else if("mic"==a){this.state.constrains.micSource=e;var t={videoSource:this.state.constrains.videoSource,audioSource:this.state.constrains.micSource};i.a.start(t),o.l("microphone",e,"pct")}this.setState({constrains:{audioSource:this.state.constrains.audioSource,videoSource:this.state.constrains.videoSource,micSource:this.state.constrains.micSource}})}},{key:"toggleMusic",value:function(e){this.setState({musicOn:e}),i.a.toggleMusic(e)}},{key:"goBack",value:function(){i.a.stop(),o.f("info","pct_back_button_clicked","event: Back button is triggered inside Pre call test page");var e=sessionStorage.getItem("isInstantJoin");"true"==localStorage.getItem("isGuest")?this.props.history.push("/guestlogin?meetingcode="+this.state.userDetails.meetingCode):e?this.props.history.push("/login"):this.props.history.push("/myMeetings")}},{key:"joinVisit",value:function(){o.f("info","pct_join_button_clicked","event: Join button is triggered inside Pre call test page");var e=this.state.constrains;localStorage.setItem("selectedPeripherals",JSON.stringify(e)),i.a.stop(),this.props.data.togglePrecheck()}},{key:"getLanguage",value:function(){var e=c.a.getLang();"spanish"==e.lang?this.setState({span:"English",chin:"中文",staticData:e}):"chinese"==e.lang?this.setState({chin:"English",span:"Español",staticData:e}):this.setState({span:"Español",chin:"中文",staticData:e})}},{key:"changeLang",value:function(e){var a=e.target.textContent;"中文"==a?(sessionStorage.setItem("Instant-Lang-selection","chinese"),c.a.setLang("chinese")):"Español"==a?(sessionStorage.setItem("Instant-Lang-selection","spanish"),c.a.setLang("spanish")):(sessionStorage.setItem("Instant-Lang-selection","english"),c.a.setLang("english"))}},{key:"render",value:function(){var e=this,a=this.state.staticData;return r.a.createElement("div",null,r.a.createElement(d.a,null),r.a.createElement("div",{id:"container",className:"pre-call-check-page",style:{background:this.state.renderView?"#F0F4F7":"#000000"}},r.a.createElement("div",{className:"pre-call-check-header row m-0"},r.a.createElement("div",{className:"col-md-8 banner-content"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"title"},r.a.createElement("p",{className:"m-0"},a.videoVisits),r.a.createElement("p",{className:"text-uppercase m-0 sub-title"},"The Permanente Medical Group"))),r.a.createElement("div",{className:"col-md-4 links text-right"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:a.HelpLink,className:"help-link",target:"_blank"},a.Help),r.a.createElement(h.a,null))))),r.a.createElement("div",{className:"row mobile-logo-container m-0"},r.a.createElement("div",{className:"col-12 mobile-tpmg-logo"}),r.a.createElement("p",{className:"col-12 header"},"Video Visits")),r.a.createElement("div",{className:"pre-call-check-content",style:{visibility:this.state.renderView?"visible":"hidden"}},r.a.createElement("div",{className:"row pre-call-check"},r.a.createElement("div",{className:"col-lg-5 col-md-7 peripheral-options p-0"},r.a.createElement("div",{className:"periheral-container"},r.a.createElement("div",{className:"label"},a.precall.Camera),r.a.createElement("div",{className:"dropdown show"},r.a.createElement("a",{className:this.state.constrains.videoSource?"btn col-md-12 dropdown-toggle rounded-0":"btn col-md-12 dropdown-toggle rounded-0 disabled",role:"button",href:"#","data-toggle":"dropdown",onClick:this.toggleOpen.bind(this,"video")},this.state.constrains.videoSource?this.state.constrains.videoSource.label:""),r.a.createElement("div",{className:this.state.data.isVideo?"dropdown-menu show":"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.state.media.videoinput&&this.state.media.videoinput.length>0?this.state.media.videoinput.map((function(a,n){return r.a.createElement("a",{className:"dropdown-item",key:n,onClick:e.selectPeripheral.bind(e,a,"camera")},a.label)})):""))),r.a.createElement("div",{className:"periheral-container"},r.a.createElement("div",{className:"label"},a.precall.Microphone),r.a.createElement("div",{className:"dropdown show"},r.a.createElement("a",{className:this.state.constrains.micSource?"btn col-md-12 dropdown-toggle rounded-0":"btn col-md-12 dropdown-toggle rounded-0 disabled",role:"button",href:"#","data-toggle":"dropdown",onClick:this.toggleOpen.bind(this,"audio")},this.state.constrains.micSource?this.state.constrains.micSource.label:""),r.a.createElement("div",{className:this.state.data.isAudio?"dropdown-menu show":"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.state.media.audioinput&&this.state.media.audioinput.length>0?this.state.media.audioinput.map((function(a,n){return r.a.createElement("a",{className:"dropdown-item",key:n,onClick:e.selectPeripheral.bind(e,a,"mic")},a.label)})):"")),r.a.createElement("div",{className:"mic-nodes-container"},r.a.createElement("div",{className:"background-nodes",id:"playNodes"}))),r.a.createElement("div",{className:"periheral-container"},r.a.createElement("div",{className:"label"},a.precall.Speaker),this.state.constrains.audioSource?r.a.createElement("div",{className:"dropdown show"},r.a.createElement("a",{className:this.state.constrains.audioSource?"btn col-md-12 dropdown-toggle rounded-0":"btn col-md-12 dropdown-toggle rounded-0 disabled",role:"button",href:"#","data-toggle":"dropdown",onClick:this.toggleOpen.bind(this,"speaker")},this.state.constrains.audioSource?this.state.constrains.audioSource.label:""),r.a.createElement("div",{className:this.state.data.isSpeaker?"dropdown-menu show":"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.state.media.audiooutput&&this.state.media.audiooutput.length>0?this.state.media.audiooutput.map((function(a,n){return r.a.createElement("a",{className:"dropdown-item",key:n,onClick:e.selectPeripheral.bind(e,a,"speaker")},a.label)})):"")):"",r.a.createElement("div",{className:"speaker-playback"},r.a.createElement("audio",{id:"playBackAudioFile"}),this.state.musicOn?r.a.createElement("button",{className:"btn playback-button pause",onClick:this.toggleMusic.bind(this,!1)},r.a.createElement("span",{className:"pause-icon"}),r.a.createElement("span",{className:"text"},a.precall.PauseSound)):r.a.createElement("button",{className:"btn playback-button play",onClick:this.toggleMusic.bind(this,!0)},r.a.createElement("span",{className:"play-icon"}),r.a.createElement("span",{className:"text"},a.precall.PlaySound))))),r.a.createElement("div",{className:"col-lg-5 col-md-5 video-preview"},r.a.createElement("video",{id:"preview",playsInline:!0,autoPlay:!0})),r.a.createElement("div",{className:"col-md-12 button-controls text-center"},r.a.createElement("button",{className:"btn rounded-0 mr-3",onClick:this.goBack},a.precall.Back),r.a.createElement("button",{className:"btn rounded-0",onClick:this.joinVisit},a.precall.Join)))),r.a.createElement("div",{className:"form-footer"},r.a.createElement(p.a,null))))}}])&&u(n.prototype,t),f&&u(n,f),a}(r.a.Component);a.default=f}}]);