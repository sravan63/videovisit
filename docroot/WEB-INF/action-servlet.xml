<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
		xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
				http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

	<bean id="defaultHandlerMapping" class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/>

	<bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
		<property name="definitions">
			<list>
				<value>/WEB-INF/tiles-definitions/tiles-definitions.xml</value>
			</list>
		</property>
	</bean>

	<bean id="tilesViewResolver" class="org.springframework.web.servlet.view.UrlBasedViewResolver">
		<property name="viewClass" value="org.springframework.web.servlet.view.tiles2.TilesView" />
	</bean>

	<bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="mappings">
			<props>
				<prop key="/logout.htm">logout</prop>
				<prop key="/intro.htm">intro</prop>
				<prop key="/setup.htm">setup</prop>
				<prop key="/login.htm">login</prop>
				<prop key="/landingnone.htm">landingnone</prop>
				<prop key="/landingready.htm">landingready</prop>
				<prop key="/visit.htm">visit</prop>
				<prop key="/help.htm">help</prop>
				<prop key="/error.htm">error</prop>
				<prop key="/submitlogin.json">submitlogin</prop>
				<prop key="/joinmeeting.json">joinmeeting</prop>
				<prop key="/quitmeeting.json">quitmeeting</prop>
				<prop key="/logout.json">logoutmeeting</prop>
				<prop key="/retrievemeeting.json">retrievemeeting</prop>
				<prop key="/createmegameeting.json">createmegameeting</prop>
				<prop key="/healthMonitor">healthMonitor</prop>
				<prop key="/loading.htm">loading</prop>
				<prop key="/verifyguest.json">verifyguest</prop>				
				<prop key="/guest">guest</prop>		
				<prop key="/guestready.htm">guestready</prop>	
				<prop key="/createguestsession.json">createguestsession</prop>
				<prop key="/endguestsession.json">endguestsession</prop>
				<prop key="/guestvisit.htm">guestvisit</prop>	
				<prop key="/guestlogout.htm">guestlogout</prop>		
				<prop key="/guesterror.htm">guesterror</prop>
				<prop key="/guesthelp.htm">guesthelp</prop>		
			</props>
		</property>
	</bean>
	
	<!-- Controllers -->
		<bean id="logout" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.LogoffController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="logout" />
		<property name="navigation" value="home" />
		<property name="subNavigation" value="logout" />
	</bean>
	<bean id="intro" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="intro" />
		<property name="navigation" value="home" />
		<property name="subNavigation" value="intro" />
	</bean>
	<bean id="setup" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="setup" />
		<property name="navigation" value="home" />
		<property name="subNavigation" value="setup" />
	</bean>
	<bean id="login" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.AppRootController">
		<property name="webAppContextCommand"><ref bean="webAppContextCommand" /></property>
        <property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="login" />
		<property name="navigation" value="home" />
		<property name="subNavigation" value="login" />
       	</bean>
	<bean id="landingnone" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="landingnone" />
		<property name="navigation" value="landingnone" />
		<property name="subNavigation" value="landingnone" />
	</bean>
	<bean id="landingready" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="landingready" />
		<property name="navigation" value="landingready" />
		<property name="subNavigation" value="landingready" />
	</bean>
	<bean id="visit" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="visit" />
		<property name="navigation" value="visit" />
		<property name="subNavigation" value="visit" />
	</bean>
	<bean id="help" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="help" />
		<property name="navigation" value="help" />
		<property name="subNavigation" value="help" />
	</bean>
	
	<bean id="error" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="error" />
		<property name="navigation" value="error" />
		<property name="subNavigation" value="error" />
	</bean>		
	<!--  for monitoring -->	
	<bean id="healthMonitor" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.HealthMonitorController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="healthMonitor" />
		<property name="navigation" value="healthMonitor" />
		<property name="simpleText" value="simpleText"/>
	</bean>
		<bean id="loading" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="loading" />
		<property name="navigation" value="blank" />
	</bean>
	<bean id="guest" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.GuestController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="guest" />
		<property name="navigation" value="guest" />
		<property name="subNavigation" value="guest" />
	</bean>

	<!--  JSON classes -->
	<bean id="joinmeeting" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.JoinMeetingController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="createmegameeting" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.CreateMegameetingController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="quitmeeting" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.QuitMeetingController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="logoutmeeting" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.LogoutController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="submitlogin" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SubmitLoginController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="retrievemeeting" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.RetrieveMeetingController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	
	<!-- Guest controllers -->

	<bean id="verifyguest" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.VerifyGuestController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="guestready" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="guestready" />	
		<property name="navigation" value="guestready" />
		<property name="subNavigation" value="guestready" />			
	</bean>
	<bean id="createguestsession" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.CreateCaregiverSessionController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="endguestsession" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.EndCaregiverSessionController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
	</bean>
	<bean id="guestvisit" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="guestvisit" />		
		<property name="navigation" value="guestvisit" />
		<property name="subNavigation" value="guestvisit" />
	</bean>		
	<bean id="guestlogout" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.LogoffController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="guestlogout" />		
	</bean>
	<bean id="guesterror" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="guesterror" />		
	</bean>	
	<bean id="guesthelp" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.controller.SimplePageController">
		<property name="environmentCommand"><ref bean="environmentCommand" /></property>
		<property name="viewName" value="guesthelp" />
		<property name="navigation" value="guesthelp" />
		<property name="subNavigation" value="guesthelp" />
	</bean>

	<!--  COMMAND classes -->
	<bean id="webAppContextCommand" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.command.WebAppContextCommand" />
	<bean id="environmentCommand" class="org.kp.tpmg.ttg.webcare.videovisits.member.web.command.EnvironmentCommand">
		<property name="cssDependencyFile" value="environment/dependency_css.json" />
		<property name="jsDependencyFile" value="environment/dependency_js.json" />
	</bean>
</beans>
